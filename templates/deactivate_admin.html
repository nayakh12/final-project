{% extends "layout.html" %}

{% block content %}
{% if admin %}
    <h2>Admin Details</h2>
    <table class="table table-bordered">
        <tr>
            <th>Admin ID</th>
            <td>{{ admin[0] }}</td>
        </tr>
        <tr>
            <th>Admin</th>
            <td>{{ admin[1] }}</td>
        </tr>
        <tr>
            <th>Email</th>
            <td>{{ admin[2] }}</td>
        </tr>
        <tr>
            <th>Phone</th>
            <td>{{ admin[3] }}</td>
        </tr>
        <tr>
            <th>Status</th>
            <td>{{ "Active" if admin[4] == 1 else "Inactive" }}</td>
        </tr>
        <tr>
            <th>Date Created</th>
            <td>{{ admin[5] }}</td>
        </tr>
    </table>
{% else %}
    <p>No admin details found.</p>
{% endif %}

<!-- Deactivate Admin Button -->
<button id="deactivate-btn" class="btn btn-danger">Deactivate Admin</button>

<!-- Hidden Password Form -->
<form id="deactivate-form" action="/deactivate_admin" method="POST" class="mt-3" style="display: none;">
    <div class="mb-3">
        <label for="password" class="form-label">Enter Password:</label>
        <input type="password" name="password" class="form-control" required>
    </div>
    <button type="submit" class="btn btn-danger">Confirm Deactivation</button>
</form>

<script>
    document.getElementById('deactivate-btn').addEventListener('click', function() {
        document.getElementById('deactivate-form').style.display = 'block';
        this.style.display = 'none';
    });
</script>

{% endblock %}
